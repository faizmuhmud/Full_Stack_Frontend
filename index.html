<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>After School Classes</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <!-- HEADER -->
        <header>
            <h1>{{ appName }}</h1>
            <nav>
                <button @click="showLessons" :class="{ active: currentPage === 'lessons' }">
                    Lessons
                </button>
                <button v-if="cartCount > 0" @click="showCart" :class="{ active: currentPage === 'cart' }">
                    Cart ({{ cartCount }})
                </button>
            </nav>
        </header>

        <main class="container">
            <!-- LESSONS PAGE -->
            <section v-if="currentPage === 'lessons'">
                <h2>Available Classes</h2>

                <div class="lessons-grid">
                    <div v-for="lesson in lessons" :key="lesson.id" class="lesson-card">
                        <div class="lesson-image">
                            <img :src="lesson.image" :alt="lesson.subject">
                        </div>
                        <div class="lesson-details">
                            <h3>{{ lesson.subject }}</h3>
                            <p>Location: {{ lesson.location }}</p>
                            <p class="price">AED {{ lesson.price }}</p>
                            <p>Spaces: {{ lesson.spaces }}</p>
                            <button class="add-btn" :disabled="lesson.spaces === 0" @click="addToCart(lesson)">
                                {{ lesson.spaces > 0 ? "Add to Cart" : "Sold Out" }}
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CART PAGE -->
            <section v-if="currentPage === 'cart'" class="cart-section">
                <h2>Your Cart</h2>

                <div v-if="cart.length === 0" class="empty-cart">
                    <p>Your cart is empty</p>
                    <button @click="showLessons">Browse Lessons</button>
                </div>

                <div v-else>
                    <div v-for="item in cart" :key="item.id" class="cart-item">
                        <div>
                            <h3>{{ item.subject }}</h3>
                            <p>{{ item.location }}</p>
                            <p class="price">AED {{ item.price }}</p>
                        </div>

                        <div class="qty-controls">
                            <button @click="decreaseQty(item)">-</button>
                            <span>{{ item.qty }}</span>
                            <button @click="increaseQty(item)">+</button>
                        </div>

                        <button class="remove-btn" @click="removeLesson(item)">Remove</button>
                    </div>

                    <div class="cart-summary">
                        <h3>Total: AED {{ cartTotal }}</h3>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>